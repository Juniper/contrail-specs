
# 1. Introduction
This is to define the requirements for Tungsten Fabric security vulnerability hardening.
"A security vulnerability is a weakness in a product that could allow an attacker to compromise the integrity, availability, or confidentiality of that product." - [Source](https://msdn.microsoft.com/en-us/library/cc751383.aspx)

# 2. Problem statement
Any networking connected software is vulnerable to security weakness. Tungsten Fabric, as a key controller to the networking infrastructure, is required to pass the most stringent security vulnerability scrutiny.

The areas of concerns for Tungsten Fabric include, but not limited to:

```
* Web UI
* Scripts vulnerability
* Object code vulnerability
* Computer Virus
* Denial of Service (DOS) Attack
* Common Vulnerabilities and Exposures (CVEs)

```
# 3. Proposed solution
#### Describe the proposed solution.
The proposed solution is to use 3rd party scanning tools, either open source or commercial ones to perform the scans. The tools of choice are based on their core coverages.
Below is the proposed list of scans and the associated tools and incidences will be fixed based on the severity classified.

a. Web UI: Burp Suite from Portswigger
b. Scripts vulnerability: Bandit from Python Code Quality Authority
c. Object code vulnerability: Protecode from Synopsys
d. Computer Virus: ClaimAV
e. Penetration Test & DOS Attack: Burp Suite from Portswigger
f. CVEs: Protecode from Synopsys
g. Copyright, copyleft, GPL licenses: Protecode from Synopsys
h. Static code analysis: Coverity from Synopsys

The current strategy is to address the issues in the following order:
1. "g."  with copyright infringement
2. "d."
3. "f." with high severity
4. "a." related XSS (Cross-site-scripting)
5. "h." with high security related.
6. Others can be addressed based on further analysis.

One can consider that TF will be inside a secure environment protected by the firewall and other necessary means to adjust severity accordingly.

## 3.1 Alternatives considered
#### Describe pros and cons of alternatives considered.
Nexssus from Tenable Network Security and AppScan from IBM are alternatives for Web/scripts scans.

## 3.2 API schema changes
#### Describe api schema changes and impact to the REST APIs.
N/A

## 3.3 User workflow impact
#### Describe how users will use the feature.
N/A

## 3.4 UI changes
#### Describe any UI changes
The UI does not need to change, but some vulnerability fixes many have minor impacts on the UI behaviors.

## 3.5 Notification impact
#### Describe any log, UVE, alarm changes
N/A

# 4. Implementation
Those scans are done at different stages and frequencies during the build process.

Assuming there are two stages, build (annotated [B]) and CI (annotated [I]); there are 4 frequencies, per commit (annotated {C}), nightly (annotated {N}), weekly (annotated {W}), and monthly (annotated {M}). Below is the proposal for each of the items above.

a. ==> [I] {N}
b. ==> [B] {C}
c. ==> [I] {W}
d. ==> [I] {M}
e. ==> [I] {N}
f. ==> [I] {W}
g. ==> [I] {W}
h. ==> [B] {C}

## 4.1 Work items
#### Describe changes needed for different components such as Controller, Analytics, Agent, UI.
#### Add subsections as needed.

### Every commit
For every commit, Zuul will do 'b' and 'h', which are Bandit and Coverity scans. This is part of the build.

### Nightly
Everyday nightly, Zuul will do 'a' and 'e', which is to use Burp to scan a running instance with the most secured configuration. This is part of the CI testing.

### Weekly
Every week, Zuul will do 'c', 'f', and 'g', which is done via Protecode scanning the object files. The object files can be in RPM, deb forms. Protecode can also scan containers.

### Monthly
Every month, or before release, Zuul runs 'd' to scan any virus. ClaimAV takes the object files, same as Protecode above.

# 5. Performance and scaling impact
## 5.1 API and control plane
#### Scaling and performance for API and control plane
N/A

## 5.2 Forwarding performance
#### Scaling and performance for API and forwarding
N/A

# 6. Upgrade
#### Describe upgrade impact of the feature
#### Schema migration/transition
N/A

# 7. Deprecations
#### If this feature deprecates any older feature or API then list it here.
N/A

# 8. Dependencies
#### Describe dependent features or components.
N/A

# 9. Testing
## 9.1 Unit tests
Leverage existing Zuul unit testing infrastructure.

## 9.2 Dev tests
N/A

## 9.3 System tests
Leverage existing Zuul CI testing infrastructure

# 10. Documentation Impact
N/A

# 11. References
TBD
